<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Å–ª—É—á–∞–π–Ω—ã—Ö —Å—Ç—Ä–æ–∫ –∏–∑ GitHub</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        
        .container {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            max-width: 600px;
            width: 100%;
            text-align: center;
        }
        
        h1 {
            color: #333;
            margin-bottom: 20px;
            font-size: 2em;
        }
        
        .description {
            color: #666;
            margin-bottom: 30px;
            line-height: 1.6;
        }
        
        .url-info {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            font-size: 0.9em;
            color: #555;
        }
        
        .url-info a {
            color: #007bff;
            text-decoration: none;
            word-break: break-all;
        }
        
        .url-info a:hover {
            text-decoration: underline;
        }
        
        .buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }
        
        button {
            background: #007bff;
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s ease;
            min-width: 150px;
        }
        
        button:hover {
            background: #0056b3;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 123, 255, 0.3);
        }
        
        button:active {
            transform: translateY(0);
        }
        
        button:disabled {
            background: #6c757d;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        .result {
            background: #e7f3ff;
            border: 2px dashed #007bff;
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
            min-height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: 'Courier New', monospace;
            font-size: 18px;
            color: #333;
            word-break: break-all;
        }
        
        .loading {
            color: #007bff;
            font-style: italic;
        }
        
        .error {
            color: #dc3545;
            background: #ffeaea;
            border-color: #dc3545;
        }
        
        .success {
            color: #28a745;
            background: #f0fff4;
            border-color: #28a745;
        }
        
        .stats {
            margin-top: 20px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 8px;
            font-size: 14px;
            color: #666;
        }
        
        .stats span {
            font-weight: bold;
            color: #333;
        }
        
        @media (max-width: 600px) {
            .container {
                padding: 20px;
            }
            
            h1 {
                font-size: 1.5em;
            }
            
            button {
                min-width: 120px;
                padding: 10px 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üé≤ –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Å–ª—É—á–∞–π–Ω—ã—Ö —Å—Ç—Ä–æ–∫</h1>
        
        <p class="description">
            –≠—Ç–æ—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –∑–∞–≥—Ä—É–∂–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ —Å GitHub –∏ –≤—ã–±–∏—Ä–∞–µ—Ç —Å–ª—É—á–∞–π–Ω—É—é —Å—Ç—Ä–æ–∫—É –∏–∑ —Ñ–∞–π–ª–∞.
        </p>
        
        <div class="url-info">
            –ò—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö: 
            <a href="https://github.com/DemaraScript/demarascript.github.io/blob/main/LogPas.txt" target="_blank">
                https://github.com/DemaraScript/demarascript.github.io/blob/main/LogPas.txt
            </a>
        </div>
        
        <div class="buttons">
            <button id="loadBtn" onclick="loadRandomLine()">
                üì• –ó–∞–≥—Ä—É–∑–∏—Ç—å —Å–ª—É—á–∞–π–Ω—É—é —Å—Ç—Ä–æ–∫—É
            </button>
            <button id="copyBtn" onclick="copyToClipboard()" disabled>
                üìã –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
            </button>
        </div>
        
        <div id="result" class="result">
            –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Å–ª—É—á–∞–π–Ω–æ–π —Å—Ç—Ä–æ–∫–∏...
        </div>
        
        <div class="stats">
            –°—Ç–∞—Ç—É—Å: <span id="status">–ì–æ—Ç–æ–≤</span> | 
            –°—Ç—Ä–æ–∫ –∑–∞–≥—Ä—É–∂–µ–Ω–æ: <span id="lineCount">0</span> | 
            –î–ª–∏–Ω–∞: <span id="length">0</span> —Å–∏–º–≤–æ–ª–æ–≤
        </div>
    </div>

    <script>
        let currentLine = '';
        let linesCount = 0;
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Å–ª—É—á–∞–π–Ω–æ–π —Å—Ç—Ä–æ–∫–∏
        async function loadRandomLine() {
            const resultElement = document.getElementById('result');
            const loadBtn = document.getElementById('loadBtn');
            const copyBtn = document.getElementById('copyBtn');
            const statusElement = document.getElementById('status');
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∑–∞–≥—Ä—É–∑–∫—É
            resultElement.className = 'result loading';
            resultElement.innerHTML = '‚è≥ –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö —Å GitHub...';
            loadBtn.disabled = true;
            copyBtn.disabled = true;
            statusElement.textContent = '–ó–∞–≥—Ä—É–∑–∫–∞';
            
            try {
                // –ò—Å–ø–æ–ª—å–∑—É–µ–º raw-—Å—Å—ã–ª–∫—É –Ω–∞ GitHub –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —á–∏—Å—Ç–æ–≥–æ —Ç–µ–∫—Å—Ç–∞
                const rawUrl = 'https://raw.githubusercontent.com/DemaraScript/demarascript.github.io/main/LogPas.txt';
                
                const response = await fetch(rawUrl);
                
                if (!response.ok) {
                    throw new Error(`–û—à–∏–±–∫–∞ HTTP: ${response.status}`);
                }
                
                const text = await response.text();
                
                // –†–∞–∑–¥–µ–ª—è–µ–º —Ç–µ–∫—Å—Ç –Ω–∞ —Å—Ç—Ä–æ–∫–∏ –∏ —Ñ–∏–ª—å—Ç—Ä—É–µ–º –ø—É—Å—Ç—ã–µ
                const lines = text.split('\n')
                    .map(line => line.trim())
                    .filter(line => line.length > 0);
                
                if (lines.length === 0) {
                    throw new Error('–§–∞–π–ª –ø—É—Å—Ç –∏–ª–∏ –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –¥–∞–Ω–Ω—ã—Ö');
                }
                
                linesCount = lines.length;
                
                // –í—ã–±–∏—Ä–∞–µ–º —Å–ª—É—á–∞–π–Ω—É—é —Å—Ç—Ä–æ–∫—É
                const randomIndex = Math.floor(Math.random() * lines.length);
                currentLine = lines[randomIndex];
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
                resultElement.className = 'result success';
                resultElement.innerHTML = `<strong>üéØ –°–ª—É—á–∞–π–Ω–∞—è —Å—Ç—Ä–æ–∫–∞:</strong><br>${currentLine}`;
                
                // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
                document.getElementById('lineCount').textContent = linesCount;
                document.getElementById('length').textContent = currentLine.length;
                statusElement.textContent = '–£—Å–ø–µ—à–Ω–æ';
                
                // –ê–∫—Ç–∏–≤–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫—É –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è
                copyBtn.disabled = false;
                
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞:', error);
                
                resultElement.className = 'result error';
                resultElement.innerHTML = `‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏:<br>${error.message}`;
                statusElement.textContent = '–û—à–∏–±–∫–∞';
                
                currentLine = '';
                copyBtn.disabled = true;
            } finally {
                loadBtn.disabled = false;
            }
        }
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞
        async function copyToClipboard() {
            if (!currentLine) return;
            
            try {
                await navigator.clipboard.writeText(currentLine);
                
                // –í–∏–∑—É–∞–ª—å–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å
                const copyBtn = document.getElementById('copyBtn');
                const originalText = copyBtn.textContent;
                copyBtn.textContent = '‚úÖ –°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ!';
                
                setTimeout(() => {
                    copyBtn.textContent = originalText;
                }, 2000);
                
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è:', error);
                alert('–ù–µ —É–¥–∞–ª–æ—Å—å —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–∫—Å—Ç. –í–æ–∑–º–æ–∂–Ω–æ, –≤–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —ç—Ç—É —Ñ—É–Ω–∫—Ü–∏—é.');
            }
        }
        
        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ CORS
        function handleCorsError() {
            const resultElement = document.getElementById('result');
            resultElement.className = 'result error';
            resultElement.innerHTML = `
                ‚ùå –û—à–∏–±–∫–∞ CORS!<br>
                GitHub –º–æ–∂–µ—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã –∏–∑ –±—Ä–∞—É–∑–µ—Ä–∞.<br>
                <small>–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Netlify Function –¥–ª—è –æ–±—Ö–æ–¥–∞ CORS.</small>
            `;
        }
        
        // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö –æ—à–∏–±–æ–∫
        window.addEventListener('error', (event) => {
            if (event.error && event.error.message.includes('CORS')) {
                handleCorsError();
            }
        });
        
        // –ê–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
        // window.addEventListener('load', loadRandomLine);
    </script>
</body>
</html>
